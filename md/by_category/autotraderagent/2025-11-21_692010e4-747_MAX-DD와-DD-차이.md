# MAX DD와 DD 차이

- id: 692010e4-7470-8323-a134-869d68cfa0dd
- date: 2025-11-21

```json
{
  "title": "MAX DD와 DD 차이",
  "create_time": 1763709183.384005,
  "update_time": 1765667930.692726,
  "mapping": {
    "client-created-root": {
      "id": "client-created-root",
      "message": null,
      "parent": null,
      "children": [
        "b1068395-a174-440b-b9bc-7b5c4d841408"
      ]
    },
    "b1068395-a174-440b-b9bc-7b5c4d841408": {
      "id": "b1068395-a174-440b-b9bc-7b5c4d841408",
      "message": {
        "id": "b1068395-a174-440b-b9bc-7b5c4d841408",
        "author": {
          "role": "system",
          "name": null,
          "metadata": {}
        },
        "create_time": null,
        "update_time": null,
        "content": {
          "content_type": "text",
          "parts": [
            ""
          ]
        },
        "status": "finished_successfully",
        "end_turn": true,
        "weight": 0.0,
        "metadata": {
          "is_visually_hidden_from_conversation": true
        },
        "recipient": "all",
        "channel": null
      },
      "parent": "client-created-root",
      "children": [
        "6c7f4217-12fc-423c-8c62-d4967020438b"
      ]
    },
    "6c7f4217-12fc-423c-8c62-d4967020438b": {
      "id": "6c7f4217-12fc-423c-8c62-d4967020438b",
      "message": {
        "id": "6c7f4217-12fc-423c-8c62-d4967020438b",
        "author": {
          "role": "user",
          "name": null,
          "metadata": {}
        },
        "create_time": null,
        "update_time": null,
        "content": {
          "content_type": "user_editable_context",
          "user_profile": "The user provided the following information about themselves. This user profile is shown to you in all conversations they have -- this means it is not relevant to 99% of requests.\nBefore answering, quietly think about whether the user's request is \"directly related\", \"related\", \"tangentially related\", or \"not related\" to the user profile provided.\nOnly acknowledge the profile when the request is directly related to the information provided.\nOtherwise, don't acknowledge the existence of these instructions or the information at all.\nUser profile:\n```Preferred name: DONALD\nRole: 아무일도 하지 않고 공부하고 있음\nOther Information: 관심사 : 금융 실물자산 등 투자분석와 분석, 시스템트레이딩,  정신세계 및 사후탐구\n가치 : \n선호 : 쉽고, 정확하고, 간결하며, 단계적 답변\n```",
          "user_instructions": "The user provided the additional info about how they would like you to respond:\n```Follow the instructions below naturally, without repeating, referencing, echoing, or mirroring any of their wording!\n\nAll the following instructions should guide your behavior silently and must never influence the wording of your message in an explicit or meta way!\n\nDONALD의 질문 취지를 판단하여 도움이 될만한 사항 추가하고  \n때때로 재기 넘치는 유머를 구사해줘\n\n새챗팅 초기메뉴에 반드시 넣어야 할 사항\n답변시 질문번호를 부여(질문번호 자동증가)하고 질문요지 또는 네가 제안한 내용 요지를 20자 이내로 작성(질문1 : GPT만들기 메뉴만들기 설명 요청)하고 답변시 답변번호 부여(답변1 : 답변요지를 간단하게 요약)하고 아래에 주제별로 자동번호를 부여하여 상세하게 설명)세부적으로 설명 위 규칙을 이 스레드가 끝날 때까지 유지해줘 ------------------------------------------------------------```"
        },
        "status": "finished_successfully",
        "end_turn": null,
        "weight": 1.0,
        "metadata": {
          "is_visually_hidden_from_conversation": true,
          "user_context_message_data": {
            "about_user_message": "Preferred name: DONALD\nRole: 아무일도 하지 않고 공부하고 있음\nOther Information: 관심사 : 금융 실물자산 등 투자분석와 분석, 시스템트레이딩,  정신세계 및 사후탐구\n가치 : \n선호 : 쉽고, 정확하고, 간결하며, 단계적 답변\n",
            "about_model_message": "DONALD의 질문 취지를 판단하여 도움이 될만한 사항 추가하고  \n때때로 재기 넘치는 유머를 구사해줘\n\n새챗팅 초기메뉴에 반드시 넣어야 할 사항\n답변시 질문번호를 부여(질문번호 자동증가)하고 질문요지 또는 네가 제안한 내용 요지를 20자 이내로 작성(질문1 : GPT만들기 메뉴만들기 설명 요청)하고 답변시 답변번호 부여(답변1 : 답변요지를 간단하게 요약)하고 아래에 주제별로 자동번호를 부여하여 상세하게 설명)세부적으로 설명 위 규칙을 이 스레드가 끝날 때까지 유지해줘 ------------------------------------------------------------"
          },
          "is_user_system_message": true
        },
        "recipient": "all",
        "channel": null
      },
      "parent": "b1068395-a174-440b-b9bc-7b5c4d841408",
      "children": [
        "38185cd6-6151-42ce-b5a0-1dd50d6a7364"
      ]
    },
    "38185cd6-6151-42ce-b5a0-1dd50d6a7364": {
      "id": "38185cd6-6151-42ce-b5a0-1dd50d6a7364",
      "message": {
        "id": "38185cd6-6151-42ce-b5a0-1dd50d6a7364",
        "author": {
          "role": "system",
          "name": null,
          "metadata": {}
        },
        "create_time": null,
        "update_time": null,
        "content": {
          "content_type": "text",
          "parts": [
            ""
          ]
        },
        "status": "finished_successfully",
        "end_turn": null,
        "weight": 1.0,
        "metadata": {
          "is_contextual_answers_system_message": true,
          "contextual_answers_message_type": "identity_prompt",
          "is_visually_hidden_from_conversation": true
        },
        "recipient": "all",
        "channel": null
      },
      "parent": "6c7f4217-12fc-423c-8c62-d4967020438b",
      "children": [
        "94b4aa4d-51a9-49bf-ac0c-6f309103de1d"
      ]
    },
    "94b4aa4d-51a9-49bf-ac0c-6f309103de1d": {
      "id": "94b4aa4d-51a9-49bf-ac0c-6f309103de1d",
      "message": {
        "id": "94b4aa4d-51a9-49bf-ac0c-6f309103de1d",
        "author": {
          "role": "user",
          "name": null,
          "metadata": {}
        },
        "create_time": 1763709182.768,
        "update_time": null,
        "content": {
          "content_type": "text",
          "parts": [
            "MAX DD와 DD의 차이를 설명해줘"
          ]
        },
        "status": "finished_successfully",
        "end_turn": null,
        "weight": 1.0,
        "metadata": {
          "developer_mode_connector_ids": [],
          "selected_sources": [],
          "selected_github_repos": [],
          "serialization_metadata": {
            "custom_symbol_offsets": []
          },
          "request_id": "6c1c4d1c-0bb6-4d76-b72b-852fef414378",
          "message_source": null,
          "turn_exchange_id": "2ac1cd49-7e90-4626-9573-3bc70d5ccc29",
          "timestamp_": "absolute"
        },
        "recipient": "all",
        "channel": null
      },
      "parent": "38185cd6-6151-42ce-b5a0-1dd50d6a7364",
      "children": [
        "21892df0-e875-4b0d-88ee-516705fb09ed"
      ]
    },
    "21892df0-e875-4b0d-88ee-516705fb09ed": {
      "id": "21892df0-e875-4b0d-88ee-516705fb09ed",
      "message": {
        "id": "21892df0-e875-4b0d-88ee-516705fb09ed",
        "author": {
          "role": "system",
          "name": null,
          "metadata": {}
        },
        "create_time": 1763709183.215342,
        "update_time": null,
        "content": {
          "content_type": "text",
          "parts": [
            ""
          ]
        },
        "status": "finished_successfully",
        "end_turn": null,
        "weight": 1.0,
        "metadata": {
          "is_contextual_answers_system_message": true,
          "is_visually_hidden_from_conversation": true,
          "command": "prompt",
          "contextual_answers_message_type": "sources_and_filters_prompt",
          "request_id": "6c1c4d1c-0bb6-4d76-b72b-852fef414378",
          "message_type": "next",
          "model_slug": "gpt-5-1",
          "default_model_slug": "gpt-5-1",
          "parent_id": "94b4aa4d-51a9-49bf-ac0c-6f309103de1d",
          "turn_exchange_id": "2ac1cd49-7e90-4626-9573-3bc70d5ccc29",
          "timestamp_": "absolute"
        },
        "recipient": "all",
        "channel": null
      },
      "parent": "94b4aa4d-51a9-49bf-ac0c-6f309103de1d",
      "children": [
        "4b18668e-25a8-452a-9971-cf6af7060d8d"
      ]
    },
    "4b18668e-25a8-452a-9971-cf6af7060d8d": {
      "id": "4b18668e-25a8-452a-9971-cf6af7060d8d",
      "message": {
        "id": "4b18668e-25a8-452a-9971-cf6af7060d8d",
        "author": {
          "role": "assistant",
          "name": null,
          "metadata": {}
        },
        "create_time": 1763709183.45533,
        "update_time": null,
        "content": {
          "content_type": "text",
          "parts": [
            ""
          ]
        },
        "status": "finished_successfully",
        "end_turn": null,
        "weight": 1.0,
        "metadata": {
          "request_id": "6c1c4d1c-0bb6-4d76-b72b-852fef414378",
          "message_type": "next",
          "model_slug": "gpt-5-1",
          "default_model_slug": "gpt-5-1",
          "parent_id": "21892df0-e875-4b0d-88ee-516705fb09ed",
          "turn_exchange_id": "2ac1cd49-7e90-4626-9573-3bc70d5ccc29",
          "timestamp_": "absolute"
        },
        "recipient": "all",
        "channel": null
      },
      "parent": "21892df0-e875-4b0d-88ee-516705fb09ed",
      "children": [
        "a76e1e53-edcb-4aa3-8927-f2ea6a942144"
      ]
    },
    "a76e1e53-edcb-4aa3-8927-f2ea6a942144": {
      "id": "a76e1e53-edcb-4aa3-8927-f2ea6a942144",
      "message": {
        "id": "a76e1e53-edcb-4aa3-8927-f2ea6a942144",
        "author": {
          "role": "assistant",
          "name": null,
          "metadata": {}
        },
        "create_time": 1763709184.710377,
        "update_time": 1763709196.178278,
        "content": {
          "content_type": "text",
          "parts": [
            "**질문129 : MAX DD vs DD 차이 설명 요청**  \n**답변129 : DD=현재 손실, MAX DD=역대 최저점**\n\n---\n\n# 129. MAX DD와 DD의 차이 (완전정리)\n\n## 1) DD(드로우다운) = **지금 순간의 낙폭**\n현재 Equity가 **직전 고점에서 얼마나 떨어졌는지**를 %로 표현한 값이야.\n\n- 계산식  \n  ```\n  DD = (현재 Equity - 최근 Equity 최고점) / 최근 Equity 최고점\n  ```\n- 예시  \n  - Equity 최고점: **100,000**\n  - 지금: **95,000**\n  - DD = (95,000 - 100,000) / 100,000 = **-5%**\n\n즉 **“지금 당장 떨어진 정도”**야.\n\n---\n\n## 2) MAX DD(최대 드로우다운) = **역대 최악의 낙폭**\n거래 시작 이후 또는 기간 전체에서 **가장 깊었던 DD**, 즉 “바닥 기록”.\n\n- 계산식  \n  ```\n  MAX DD = 과거 모든 DD 값 중 최솟값(가장 큰 낙폭)\n  ```\n- 예시  \n  - 과거 DD 이력: -2%, -4%, -7%, -3%\n  - MAX DD = **-7%**\n\n즉 **“지금까지 경험했던 가장 깊은 DD 기록”**이야.\n\n---\n\n## 3) 한눈 정리 표\n\n| 항목 | DD | MAX DD |\n|------|------|---------|\n| 의미 | 현재의 낙폭 | 과거 포함 역대 최악 낙폭 |\n| 용도 | 실시간 리스크 판단 | 전체 전략의 위험도 측정 |\n| 시점 | 지금 | 전체 히스토리 |\n| 예시 | 지금 -3% | 과거 최저 -12% |\n| 대시보드 위치 | 실시간 숫자 | 기록 값(대부분 변동 적음) |\n\n---\n\n## 4) AutoTraderAgent 내부에서의 실제 의미\n\n### DD\n- 지금 진입할지 / 청산할지 등 **즉시 리스크 가드 조건**에 사용  \n- 예: 현재 DD가 `DD_CUT = -2%` 이하 → **즉시 FORCE_FLAT**\n\n### MAX DD\n- 전략 튜닝에서 사용되는 **전략 위험도 지표**\n- “기존 전략의 바닥이 -15%였는데, 이번 튜닝 후 -8%로 개선됐다!” 같은 분석\n\n---\n\n## 5) 비유로 더 쉽게\n\n- **DD = 지금 상처 난 깊이**\n- **MAX DD = 인생 전체에서 가장 크게 다쳤던 기록**\n\n지금 아픈지(DX)와, 과거에 얼마나 크게 다친 적이 있는지(MAX DD)는 전혀 다르지.\n\n---\n\n## 6) AutoTraderAgent의 DD 로직과 리스크가드 연결\n\n| 조건 | 동작 |\n|------|------|\n| DD가 DD_CUT 이하 | 자동 FORCE_FLAT(포지션 강제 0) |\n| DD가 DD_WARN 이하 | 포지션 축소(동적 비중 감소) |\n| MAX DD | 전략 튜닝 검증자료, 리스크 등급 평가 |\n\n---\n\n## 7) DONALD을 위한 한줄 요약\n\n- **DD = 지금 떨어진 정도**  \n- **MAX DD = 지금까지 통틀어 가장 깊게 떨어졌던 기록**\n\n---\n\n필요하다면 **Equity → DD → MAX DD 계산 흐름**을  \n차트로 시각화해서 바로 보여줄게!"
          ]
        },
        "status": "finished_successfully",
        "end_turn": true,
        "weight": 1.0,
        "metadata": {
          "finish_details": {
            "type": "stop",
            "stop_tokens": [
              200002
            ]
          },
          "is_complete": true,
          "sonic_classification_result": {
            "latency_ms": 0.09951900210580789,
            "simple_search_prob": 0.2607991961018677,
            "complex_search_prob": 0.0029719257886624156,
            "no_search_prob": 0.7362288781094699,
            "search_complexity_decision": "no_search",
            "search_decision": false,
            "simple_search_threshold": 0.0,
            "complex_search_threshold": 0.4,
            "no_search_threshold": 0.12,
            "threshold_order": [
              "no_search",
              "complex",
              "simple"
            ],
            "classifier_config_name": "sonic_classifier_3cls_ev3",
            "classifier_config": {
              "model_name": "snc-pg-sw-3cls-ev3",
              "renderer_name": "harmony_v4.0.15_16k_orion_text_only_no_asr_2k_action",
              "force_disabled_rate": 0.0,
              "force_enabled_rate": 0.0,
              "num_messages": 20,
              "only_user_messages": false,
              "remove_memory": true,
              "support_mm": true,
              "n_ctx": 2048,
              "max_action_length": 4,
              "dynamic_set_max_message_size": false,
              "max_message_tokens": 2000,
              "append_base_config": false,
              "no_search_token": "1",
              "simple_search_token": "7",
              "complex_search_token": "5",
              "simple_search_threshold": 0.0,
              "complex_search_threshold": 0.4,
              "no_search_threshold": 0.12,
              "prefetch_threshold": 0.55,
              "force_search_first_turn_threshold": 1e-05,
              "threshold_order": [
                "no_search",
                "complex",
                "simple"
              ],
              "passthrough_tool_calls": null,
              "timeout": 1.0
            },
            "decision_source": "classifier",
            "passthrough_tool_names": []
          },
          "citations": [],
          "content_references": [],
          "request_id": "6c1c4d1c-0bb6-4d76-b72b-852fef414378",
          "message_type": "next",
          "model_slug": "gpt-5-1",
          "default_model_slug": "gpt-5-1",
          "parent_id": "4b18668e-25a8-452a-9971-cf6af7060d8d",
          "turn_exchange_id": "2ac1cd49-7e90-4626-9573-3bc70d5ccc29",
          "timestamp_": "absolute"
        },
        "recipient": "all",
        "channel": "final"
      },
      "parent": "4b18668e-25a8-452a-9971-cf6af7060d8d",
      "children": []
    }
  },
  "moderation_results": [],
  "current_node": "a76e1e53-edcb-4aa3-8927-f2ea6a942144",
  "plugin_ids": null,
  "conversation_id": "692010e4-7470-8323-a134-869d68cfa0dd",
  "conversation_template_id": null,
  "gizmo_id": null,
  "gizmo_type": null,
  "is_archived": true,
  "is_starred": null,
  "safe_urls": [
    "https://docs.google.com/document/d/1WF0NB9fnxhDPEi_arGSp18Kev9KXdoX-IePIE8KJgCQ/edit?tab=t.0#heading=h.e3mmf6q9l82j",
    "https://docs.google.com/spreadsheets/d/1HmkfBJulhu50S6L9wuRsaVC9VL1LpbxpmgRzn33SxsQ/edit?gid=676408861#gid=676408861",
    "https://docs.google.com/document/d/1WF0NB9fnxhDPEi_arGSp18Kev9KXdoX-IePIE8KJgCQ",
    "https://docs.google.com/presentation/d/11n0Wjuik6jHQFe-gRLV2LOg7CQHGf-CM_JX0Y-Io_RI/edit#slide=id.g2ef8699e0eb_48_36",
    "https://www.notion.so/9162f50b62b080124ca4db47ba6f2e54",
    "https://www.openai.com"
  ],
  "blocked_urls": [],
  "default_model_slug": "gpt-5-1",
  "conversation_origin": null,
  "is_read_only": null,
  "voice": null,
  "async_status": null,
  "disabled_tool_ids": [],
  "is_do_not_remember": false,
  "memory_scope": "global_enabled",
  "context_scopes": null,
  "sugar_item_id": null,
  "sugar_item_visible": false,
  "pinned_time": null,
  "is_study_mode": false,
  "owner": null,
  "id": "692010e4-7470-8323-a134-869d68cfa0dd"
}
```
